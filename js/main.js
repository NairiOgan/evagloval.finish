const mobileMenuBtns=document.querySelectorAll(".mobile__btn");mobileMenuBtns.forEach(function(e){e.addEventListener("click",function(){let e=document.querySelector(".mobile-menu");e.classList.toggle("active")})}),document.addEventListener("click",function(e){!mobileMenu.classList.contains("active")||mobileMenu.contains(e.target)||Array.from(mobileMenuBtns).some(t=>t.contains(e.target))||mobileMenu.classList.remove("active")});let prevScrollpos=window.scrollY;const staticHeader=document.querySelector(".static-header"),fixedHeader=document.querySelector(".fixed-header"),mobileMenu=document.querySelector(".mobile-menu");function isElementInViewport(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function scrollToSection(e){let t=document.getElementById(e);if(t){let o=t.offsetTop;window.scrollTo({top:o,behavior:"smooth"})}}window.onscroll=function(){let e=window.scrollY,t=window.innerWidth;!(t<=690)&&(0===e?(fixedHeader.style.transform="translateY(-100%)",mobileMenu.classList.remove("active")):e>prevScrollpos&&e>staticHeader.clientHeight?(fixedHeader.style.transform="translateY(-100%)",mobileMenu.classList.remove("active")):(fixedHeader.style.transform="translateY(0)",mobileMenu.classList.remove("active")),prevScrollpos=e)};const mobileMenuItems=document.querySelectorAll(".menu-item");mobileMenuItems.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();let o=e.getAttribute("href").substring(1);scrollToSection(o)})}),window.addEventListener("scroll",function(){var e=window.scrollY;document.querySelectorAll(".header-menu__list__item").forEach(function(t){var o=t.querySelector("a").getAttribute("href").substring(1),l=document.getElementById(o);if(l){var n=l.offsetTop,r=l.offsetHeight;e>=n&&e<n+r?t.classList.add("active"):t.classList.remove("active")}})}),window.dispatchEvent(new Event("scroll")),document.addEventListener("DOMContentLoaded",function(){function e(e){let t,o,l,n=[];for(l=0,t=document.getElementsByClassName("select-items"),o=document.getElementsByClassName("select-selected");l<o.length;l++)e==o[l]?n.push(l):o[l].classList.remove("select-arrow-active");for(l=0;l<t.length;l++)n.indexOf(l)&&t[l].classList.remove("select-show")}document.addEventListener("click",function(t){e(t.target)});let t=document.getElementsByClassName("custom-select");for(let o=0;o<t.length;o++){t[o].addEventListener("click",function(t){t.stopPropagation(),e(this),this.getElementsByTagName("div")[1].classList.toggle("select-show"),this.getElementsByTagName("div")[0].classList.toggle("select-arrow-active"),console.log("Custom select clicked.")});let l=t[o].querySelectorAll(".select-items__item");for(let n=0;n<l.length;n++)l[n].addEventListener("click",function(t){t.stopPropagation();let o=this.parentElement.parentElement;o.getElementsByTagName("div")[0].innerHTML=this.innerHTML;let l=document.getElementById("carForm");if(l){let n=l.querySelector("input[type='hidden'][name='"+o.getAttribute("data-input-name")+"']");console.log("Hidden input:",n),n?n.value=this.getAttribute("data-value"):console.error("Hidden input not found.")}else console.error("Form with id 'carForm' not found.");e(o)})}});const colorButtons=document.querySelectorAll(".color-btn"),carMatBody=document.querySelector(".constructor-wrap__result__body");function setColorClass(e){let t=e.target.dataset.color;carMatBody.classList.remove(...["colorBlack","colorDarkenGray","colorGray","colorLightBlue","colorRed","colorOrange","colorBrown","colorLightBrown","colorYellow","colorLightGreen","colorGreen","colorBlue","colorMaroon"]),carMatBody.classList.add(t)}colorButtons.forEach(function(e){e.addEventListener("click",setColorClass)});const colorCantButtons=document.querySelectorAll(".color-cant-btn"),carMatCant=document.querySelector(".constructor-wrap__result__cant");function setCantColorClass(e){let t=e.target.dataset.color;carMatCant.classList.remove(...["colorCantBlack","colorCantDarkenGray","colorCantGray","colorCantLightBlue","colorCantRed","colorCantOrange","colorCantBrown","colorCantLightBrown","colorCantYellow","colorCantLightGreen","colorCantGreen","colorCantBlue","colorCantMaroon"]),carMatCant.classList.add(t)}colorCantButtons.forEach(function(e){e.addEventListener("click",setCantColorClass)});const carMatsCategoryesSwiper=new Swiper(".deafult-slider",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar",draggable:!0},slidesPerView:3,watchOverflow:!0,spaceBetween:150,initialSlide:1,speed:500,centeredSlides:!0,roundLengths:!0,breakpoints:{320:{spaceBetween:80,slidesPerView:1},958:{spaceBetween:80,slidesPerView:1.5},1180:{spaceBetween:140,slidesPerView:2.5},1290:{spaceBetween:140,slidesPerView:2.3},1646:{spaceBetween:150,slidesPerView:3}}}),accessoriesSwiper=new Swiper(".accessoriesSlider",{navigation:{nextEl:".accessoriesSlider-swiper-button-next",prevEl:".accessoriesSlider-swiper-button-prev"},scrollbar:{el:".accessoriesSlider-swiper-scrollbar",draggable:!0},slidesPerView:2,watchOverflow:!0,spaceBetween:140,initialSlide:0,speed:500,centeredSlides:!0,roundLengths:!0,breakpoints:{320:{spaceBetween:80,slidesPerView:1},958:{spaceBetween:80,slidesPerView:1.5},1180:{spaceBetween:140,slidesPerView:2.6},1646:{spaceBetween:30,slidesPerView:3,centeredSlides:!1,roundLengths:!1}}});function createModal(e,t,o){t.forEach(function(t){t.onclick=function(){var t;t=e,t.style.display="block",setTimeout(function(){t.classList.add("show"),document.body.classList.add("no-scroll")},10)}}),o.onclick=function(){l(e)},window.onclick=function(t){t.target==e&&l(e)};function l(e){e.classList.remove("show"),setTimeout(function(){e.style.display="none",document.body.classList.remove("no-scroll")},300)}}const modalConstructor=document.getElementById("modalConstructor"),openModalConstructorBtn=document.querySelectorAll(".openModalConstructorBtn"),modalConstructorClose=document.getElementById("modalConstructorClose");createModal(modalConstructor,openModalConstructorBtn,modalConstructorClose);const modalConsult=document.getElementById("modal"),openModalConsultBtn=document.querySelectorAll(".openModal"),closeModalConsultBtn=document.getElementById("modalCloseBtn");createModal(modalConsult,openModalConsultBtn,closeModalConsultBtn),document.addEventListener("DOMContentLoaded",function(){let e=!1;window.addEventListener("scroll",function(){!1===e&&(e=!0,setTimeout(()=>{let e=document.createElement("script");e.src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Ae588bc8558c4d51c7308a36ae9729e8993abf3c8fc46f0339f06d0ad05ceee75&amp;width=100%25&amp;height=509&amp;lang=ru_RU&amp;scroll=true",document.getElementById("yamap").replaceWith(e)},5e3))})});
